# CLAUDE.md
<!-- Generated by Claude Conductor v1.1.2 -->

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Critical Context (Read First)
- **Tech Stack**: Python, PyTorch, Docker (for AI/ML deployments)
- **Main File**: app.py or main.py (to be created)
- **Core Mechanic**: AI-powered video generation with Foley sound processing
- **Key Integration**: RunPod deployment platform, HunyuanVideo model
- **Platform Support**: RunPod, Docker containers, Linux
- **DO NOT**: Expose API keys, hardcode credentials, commit model files

## Session Startup Checklist
**IMPORTANT**: At the start of each session, check these items:
1. **Check TASKS.md** - Look for any IN_PROGRESS or BLOCKED tasks from previous sessions
2. **Review recent JOURNAL.md entries** - Scan last 2-3 entries for context
3. **If resuming work**: Load the current task context from TASKS.md before proceeding

## Table of Contents
1. [Architecture](ARCHITECTURE.md) - Tech stack, folder structure, infrastructure
2. [Design Tokens](DESIGN.md) - Colors, typography, visual system
3. [UI/UX Patterns](UIUX.md) - Components, interactions, accessibility
4. [Runtime Config](CONFIG.md) - Environment variables, feature flags
5. [Data Model](DATA_MODEL.md) - Database schema, entities, relationships
6. [API Contracts](API.md) - Endpoints, request/response formats, auth
7. [Build & Release](BUILD.md) - Build process, deployment, CI/CD
8. [Testing Guide](TEST.md) - Test strategies, E2E scenarios, coverage
9. [Operational Playbooks](PLAYBOOKS/DEPLOY.md) - Deployment, rollback, monitoring
10. [Contributing](CONTRIBUTING.md) - Code style, PR process, conventions
11. [Error Ledger](ERRORS.md) - Critical P0/P1 error tracking
12. [Task Management](TASKS.md) - Active tasks, phase tracking, context preservation

## Quick Reference
**Main Constants**: `[file:lines]` - Description  
**Core Class**: `[file:lines]` - Description  
**Key Function**: `[file:lines]` - Description  
[Include 10-15 most accessed code locations]

## Current State
- [ ] AI video generation with HunyuanVideo model implemented
- [ ] Foley sound processing system added
- [ ] RunPod deployment setup completed
- [ ] Docker containerization configured
- [x] Project documentation initialized
- [x] Security guidelines established
[Project currently in planning/setup phase]

## Development Workflow
1. Plan features and research HunyuanVideo/Foley requirements
2. Set up Python environment with PyTorch dependencies
3. Implement video generation pipeline
4. Add Foley sound processing components
5. Create Docker container and RunPod configuration
6. Test deployment and optimize performance
7. Document and update CLAUDE.md with new code locations

## Task Templates
### 1. Setup Python Environment
1. Install Python 3.10+, PyTorch, and dependencies
2. Create virtual environment (venv)
3. Test PyTorch GPU acceleration
4. Update CLAUDE.md with new dependencies

### 2. Implement Video Generation Pipeline
1. Integrate HunyuanVideo model in video.py:10-50
2. Add text-to-video parameter handling
3. Test basic video generation
4. Document in CLAUDE.md Quick Reference

### 3. Add Foley Sound Processing
1. Implement audio analysis in audio_processor.py:20-40
2. Add sound mixing and Foley effects
3. Integrate with video pipeline
4. Test audio-video synchronization

### 4. Setup RunPod Deployment
1. Create Dockerfile for GPU acceleration
2. Configure API endpoints in app.py:100-150
3. Set up container orchestration
4. Deploy and test on RunPod

## Anti-Patterns (Avoid These)
❌ **Don't hardcode API keys or tokens** - Use environment variables for security
❌ **Don't commit large model files** - Use .gitignore and download at runtime
❌ **Don't use synchronous I/O for video processing** - APIs must be async for performance
❌ **Don't ignore GPU memory management** - Free GPU memory after processing
❌ **Don't expose internal endpoints without authentication** - Always use API keys for external access
❌ **Don't mix frontend and backend logic** - Separate video/audio processing from UI/HTTP layer

## Journal Update Requirements
**IMPORTANT**: Update JOURNAL.md regularly throughout our work sessions:
- After completing any significant feature or fix
- When encountering and resolving errors
- At the end of each work session
- When making architectural decisions
- Format: What/Why/How/Issues/Result structure

## Task Management Integration
**How TASKS.md and JOURNAL.md work together**:
1. **Active Work**: TASKS.md tracks current/incomplete tasks with full context
2. **Completed Work**: When tasks complete, they generate JOURNAL.md entries with `|TASK:ID|` tags
3. **History**: JOURNAL.md preserves complete task history even if Claude Code is reinstalled
4. **Context Recovery**: Search JOURNAL.md for `|TASK:` to see all completed tasks over time
5. **Clean Handoffs**: TASKS.md always shows what needs to be resumed or completed

## Version History
- **v1.0.0** - Initial release
- **v1.1.0** - Feature added (see JOURNAL.md YYYY-MM-DD)  
[Link major versions to journal entries]